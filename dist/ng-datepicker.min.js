!function(){"use strict";function a(a,b,c,d,e){this.id="calCtrl",this.selected=null,this.today=moment(),this.viewDate=moment(),this.startOfWeek=0,this.options={},this.years=[],this.year=this.viewDate.year(),this.month=this.viewDate.month(),this.isToday=function(a){return a.isSame(this.today,"day")},this.isCurrentMonth=function(a){return a.month()===this.viewDate.month()},this.isWeekend=function(a){return a.isoWeekday()>5},this.isSelected=function(a){return a.isSame(this.selected,"day")},this.isHighlighted=function(a){return this.highlightCallback?this.highlightCallback(a):!1},this.setDate=function(a){this.viewDate=a.clone(),this.updateSelectValues(a)},this.reset=function(){moment.isMoment(this.selected)?this.viewDate=this.selected.clone():this.viewDate=moment(),this.updateSelectValues(),a.$apply()},this.updateSelectValues=function(a){a=a||this.viewDate,this.month=this.options.months[a.month()],this.year=a.year()};var f=function(a,b,c){if(0===b)throw"Quit jogging in place!!";return b>0?a.add(b,c):a.subtract(Math.abs(b),c),this.updateSelectValues(a),a}.bind(this);this.jogMonth=function(a){return f(this.viewDate,a,"months")},this.jogYear=function(a){return f(this.viewDate,a,"years")},this.select=function(b){this.selected=b,a.selectCallback&&a.selectCallback({date:b.clone()}),this.selected=b.clone(),this.viewDate=b.clone(),this.updateSelectValues()},this.updateCalendar=function(){var a,b,c,d=[],e=this.viewDate.clone().startOf("month");for(e.subtract(Math.abs(e.isoWeekday()-this.startOfWeek),"day"),a=0;6>a;a++)d[a]=[];for(a=0,b=0,c=0;42>a;a++,b++)a>0&&b%7===0&&(b=0,c++),d[c][b]=e.clone(),e.add(1,"day");this.calendar=d},this.setup=function(a){this.options=a,this.options.years=[];for(var b=this.options.yearStart;b<this.viewDate.year()+10;b++)this.options.years.push(b)},a.$watch("calCtrl.month",function(a,b){a!==b&&(this.viewDate.month(this.options.months.indexOf(this.month)),this.updateCalendar())}.bind(this)),a.$watch("calCtrl.year",function(){this.viewDate.year(this.year),this.updateCalendar()}.bind(this));var g=function(){this.updateCalendar()}.bind(this);g()}function b(a,b,c,d,e){this.id="dateCtrl",this.selectedDate={},this.viewDate={},this.options={},this.isHighlighted=function(a){
//if range select all between range
//if range select all between range
return scope.range===!0?a>this.viewDate.startDate||a<this.viewDate.endDate:!1},this.hasRanges=function(){return this.options.ranges&&this.options.ranges.length>0},this.isRange=function(){return this.options.range},this.setup=function(a){this.options=a}}function c(a,b,c,d,e){c=angular.extend({monthLeftIcon:"fa fa-angle-left",yearLeftIcon:"fa fa-angle-double-left",monthRightIcon:"fa fa-angle-right",yearRightIcon:"fa fa-angle-double-right",range:!1,time:!1,timeFormat:"HH:mm:ss",format:"YYYY/MM/DD",position:"bottomleft",dateSelect:!0,daysOfWeek:moment.weekdaysShort(),months:moment.months(),yearStart:1990,autoHide:!0},c||{});var f=!1;this.options=function(){return c},this.show=function(){f||(b.show(),this.position(),this.isShowing=!0)},this.hide=function(){this.isShowing&&(angular.element(d).off(".ngdatepicker"),angular.element(d.document).off("ngdatepicker"),b.hide(),this.isShowing=!1)},this.toggle=function(a){this.isShowing?this.hide():this.show()},this.position=function(a){var c={top:0,right:"auto",left:0};c.top=h(),angular.extend(c,g()),b.css(c)};var g=function(){var e={},f=6;switch("top"===c.position.substr(0,3)&&(f=3),c.position.substr(f)){case"left":e={right:"auto",left:a.offset().left};break;case"center":e={left:a.outerWidth()/2-b.outerWidth()/2+(a.outerWidth()-a.innerWidth())+a.offset().left};break;default:var g=b.offset().left+b.outerWidth()>angular.element(d).width();e={left:g?"auto":a.offset().left+(a.outerWidth()-b.outerWidth()),right:g?0:"auto"},g&&(e.right=0)}return e}.bind(this),h=function(){b.addClass("dropup");var e=a.offset().top-b.outerHeight(),f=a.offset().top+a.outerHeight()+b.outerHeight()>angular.element(d).innerHeight(),g=a.offset().top-b.outerHeight()<0;return("bottom"===c.position.substr(0,6)&&!f||g)&&(b.removeClass("dropup"),e=a.offset().top+a.outerHeight()),e}.bind(this),i=function(){this.position(),
// Reposition the picker if the window is resized while it's open
$(window).on("resize.ngdatepicker",$.proxy(function(a){this.position(a)},this)),angular.element(d.document).on("focusin.ngdatepicker click.ngdatepicker mousedown.ngdatepicker touchend.ngdatepicker mouseup.ngdatepicker [data-toggle=dropdown]",$.proxy(function(c){var d=angular.element(c.target);0===d.closest(a).length&&0===d.closest(b).length&&0===d.closest(".calendar-table").length&&(e.$broadcast("reset.calendar."+e.name),this.hide())}.bind(this),this))}.bind(this);i()}angular.module("ngdatepicker",[]).directive("ngdatepicker",["$templateCache","$compile","$window","$log",function(a,d,e,f){return{require:["ngModel"],restrict:"A",controller:b,controllerAs:"dateCtrl",scope:{name:"@ngdatepicker",options:"@"},link:function(b,f,g,h){b.options=b.options||{};var i=h[0],j=b.dateCtrl,k=f,l=angular.element(d(a.get("ngdatetimepicker/datepicker.html"))(b));l.appendTo("body");var m=new c(k,l,b.options,e,b);j.setup(m.options()),k.on("click.ngdatepicker",function(){m.show()}),j.selectStart=function(a){if(!moment.isMoment(a))throw"selected date must be a moment instance not "+typeof a;j.selectedDate=a,i.$setViewValue(a),i.$render(),j.options.autoHide&&l.hide()},j.selectEnd=function(a){if(!moment.isMoment(a))throw"selected date must be a moment instanct not "+typeof a;j.selectedDate.end=j.rightDate,i.$setViewValue(j.selectedDate.clone())},i.$parsers.push(function(a){if(!moment.isMoment(a)){var b=moment(a,n(),!0);a=b.isValid()?b:j.selectedDate}return j.selectedDate=a,j.leftDate=a,a}),i.$render=function(){if(j.options.range===!0&&moment.isMoment(j.selectedDate.start))k.val(j.selectedDate.format(n()));else if(moment.isMoment(i.$viewValue))j.selectedDate=i.$viewValue.clone(),k.val(i.$viewValue.format(n()));else if(moment.isMoment(i.$modelValue))k.val(i.$modelValue.format(n())),j.selectedDate=i.$modelValue,j.leftDate=i.$modelValue;else if(moment.isMoment(j.selectedDate))k.val(j.selectedDate.format(n()));else if("string"==typeof i.$modelValue){var a=moment(i.$modelValue,n());a.isValid()&&(j.selectedDate=a,j.leftDate=a,k.val(a.format(n())))}};var n=function(a){var b=j.options.format;return j.options.time&&!a&&(b+=" "+j.options.timeFormat),b}}}}]).directive("ngCalendar",["$templateCache","$compile","$window","$log","$parse",function(b,c,d,e,f){return{restrict:"E",priority:1,templateUrl:"ngdatetimepicker/calendar.html",controller:a,controllerAs:"calCtrl",scope:{name:"@",highlightCallback:"&",selectCallback:"&",options:"=",dateSelected:"="},link:function(a,b,c,d){var e=(d[0],a.calCtrl);a.options=a.options||{},e.setup(a.options),a.$watch("dateSelected",function(a){if(angular.isDefined(a)||(a=moment()),!moment.isMoment(a)){if(null===a)return;throw"Calendar expects value to be a moment not "+typeof a+" "+a}var b=a.clone();e.setDate(b),e.selected=b}),a.$on("reset.calendar."+a.name.slice(0,a.name.indexOf("-")),function(a){e.reset()})}}}]).run(["$templateCache",function(a){a.put("ngdatetimepicker/datepicker.html",'<div id="datepicker-{{ name }}" class="datepicker dropdown-menu">\n<div class="calendar left">\n<ng-calendar options="dateCtrl.options" name="{{ name }}-left" select-callback="dateCtrl.selectStart(date)" date-selected="dateCtrl.leftDate"  highlight-callback="dateCtrl.isActive(day)"></ng-calendar></div>\n<div class="calendar right" ng-if="dateCtrl.isRange()">\n<ng-calendar options="dateCtrl.options" name="{{ name }}-right" select-callback="dateCtrl.selectEnd(date)" date-selected="dateCtrl.rightDate" highlight-callback="dateCtrl.isActive(day)"></ng-calendar></div>\n<div class="range_inputs" ng-show="dateCtrl.hasRanges() && dateCtrl.isRange()">\n<ul  ng-repeat=" range in dateCtrl.options.ranges"><li ng-click="dateCtrl.selectRange(range)">{{ range.name }}</li></ul><button class="applyBtn" disabled="disabled" type="button" ng-click="dateCtrl.apply()"></button> \n<button class="cancelBtn" type="button" ng-click="dateCtrl.cancel()"></button>\n</div>\n</div>'),a.put("ngdatetimepicker/timepicker.html",'<div class="popover clockpicker-popover"><div class="arrow"></div><div class="popover-title"><span class="clockpicker-span-hours text-primary"></span> : <span class="clockpicker-span-minutes"></span><span class="clockpicker-span-am-pm"></span></div><div class="popover-content"><div class="clockpicker-plate"><div class="clockpicker-canvas"></div><div class="clockpicker-dial clockpicker-hours"></div><div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div></div><span class="clockpicker-am-pm-block"></span></div></div>'),a.put("ngdatetimepicker/calendar.html",'<div class="calendar-table"><table class="table-condensed"><thead><tr><th class="prev available" ng-click="calCtrl.jogYear(-1)"> <i class="{{ options.yearLeftIcon }}"></i></th><th class="prev available" ng-click="calCtrl.jogMonth(-1)"><i class="{{ options.monthLeftIcon }}"></i></th><th ng-show="calCtrl.options.dateSelect" style="text-align:center;" colspan="3" class="month"><select name="datepicker-month" class="form-control" ng-model="calCtrl.month" ng-options="o for o in options.months"></select><select name="datepicker-year" class="form-control year" ng-model="calCtrl.year" ng-options="o for o in options.years "></select></th><th ng-hide="calCtrl.options.dateSelect" style="text-align:center;" colspan="3" class="month">{{ calCtrl.viewDate.format(\'MMMM\') }}<br>{{ calCtrl.viewDate.format(\'YYYY\') }}</th><th class="next available" ng-click="calCtrl.jogMonth(1)"><i class="{{ options.monthRightIcon }}"></i></th><th class="next available" ng-click="calCtrl.jogYear(1)"><i class="{{ options.yearRightIcon }}"></i></th></tr><tr><th ng-repeat="day in options.daysOfWeek" >{{ day }}</th></tr></thead><tbody><tr ng-repeat="week in calCtrl.calendar"><td ng-click="calCtrl.select(day)" ng-class="{\'highlight\': calCtrl.doHighlight(day), \'today\': calCtrl.isToday(day),\'weekend\': calCtrl.isWeekend(day), \'off\': !calCtrl.isCurrentMonth(day), \'current\': calCtrl.isSelected(day)  }"ng-repeat="day in week" data-title="r{{ $parent.$index }}c{{ $index }}">{{ day.date() }}</td></tr></tbody></table></>')}])}();
//# sourceMappingURL=ng-datepicker.min.js.map